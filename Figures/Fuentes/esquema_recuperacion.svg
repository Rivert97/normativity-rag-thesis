<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="175mm"
   height="270mm"
   viewBox="0 0 175 270"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   sodipodi:docname="esquema_recuperacion.svg"
   inkscape:export-filename="../Capitulo3/esquema_recuperacion.pdf"
   inkscape:export-xdpi="96"
   inkscape:export-ydpi="96"
   inkscape:version="1.4 (1:1.4+202410161351+e7c3feb100)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:document-units="mm"
     inkscape:zoom="0.56783159"
     inkscape:cx="357.50037"
     inkscape:cy="477.25418"
     inkscape:window-width="1920"
     inkscape:window-height="1008"
     inkscape:window-x="1920"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" /><defs
     id="defs1"><marker
       style="overflow:visible"
       id="Triangle"
       refX="0"
       refY="0"
       orient="auto-start-reverse"
       inkscape:stockid="Triangle arrow"
       markerWidth="1"
       markerHeight="1"
       viewBox="0 0 1 1"
       inkscape:isstock="true"
       inkscape:collect="always"
       preserveAspectRatio="xMidYMid"><path
         transform="scale(0.5)"
         style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
         d="M 5.77,0 -2.88,5 V -5 Z"
         id="path135" /></marker><marker
       style="overflow:visible"
       id="Triangle-9"
       refX="0"
       refY="0"
       orient="auto-start-reverse"
       inkscape:stockid="Triangle arrow"
       markerWidth="1"
       markerHeight="1"
       viewBox="0 0 1 1"
       inkscape:isstock="true"
       inkscape:collect="always"
       preserveAspectRatio="xMidYMid"><path
         transform="scale(0.5)"
         style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
         d="M 5.77,0 -2.88,5 V -5 Z"
         id="path135-8" /></marker><marker
       style="overflow:visible"
       id="Triangle-0"
       refX="0"
       refY="0"
       orient="auto-start-reverse"
       inkscape:stockid="Triangle arrow"
       markerWidth="1"
       markerHeight="1"
       viewBox="0 0 1 1"
       inkscape:isstock="true"
       inkscape:collect="always"
       preserveAspectRatio="xMidYMid"><path
         transform="scale(0.5)"
         style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
         d="M 5.77,0 -2.88,5 V -5 Z"
         id="path135-6" /></marker></defs><g
     inkscape:label="Capa 1"
     inkscape:groupmode="layer"
     id="layer1"><rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       id="rect3"
       width="76.756432"
       height="20.314804"
       x="49.688431"
       y="54.595512"
       ry="7.7790236" /><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:7.05556px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.647;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="87.921974"
       y="66.513359"
       id="text4"><tspan
         sodipodi:role="line"
         id="tspan17"
         x="87.921974"
         y="66.513359">Convertir a embedding</tspan></text><rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       id="rect3-6"
       width="67.954132"
       height="18.742031"
       x="54.089584"
       y="22.873238"
       ry="7.777709" /><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:7.05556px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.647;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="87.966759"
       y="33.927185"
       id="text4-0"><tspan
         sodipodi:role="line"
         id="tspan16"
         x="87.966759"
         y="33.927185">Pregunta</tspan></text><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:7.05556px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.647;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="120.1257"
       y="-156.4223"
       id="text4-0-6"
       transform="rotate(90)"><tspan
         sodipodi:role="line"
         id="tspan32"
         x="120.1257"
         y="-156.4223">Recuperación de documentos relevantes</tspan></text><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:7.05556px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.647;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="230.17499"
       y="-165.24174"
       id="text4-0-6-3"
       transform="rotate(90)"><tspan
         sodipodi:role="line"
         id="tspan33"
         x="230.17499"
         y="-165.24174">Generación de</tspan><tspan
         sodipodi:role="line"
         id="tspan34"
         x="230.17499"
         y="-156.4223">respuesta</tspan></text><rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       id="rect3-4-65-1"
       width="98.608116"
       height="12.062935"
       x="38.762592"
       y="241.96187"
       ry="5.8915048" /><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:7.05556px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.647;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="87.997757"
       y="249.79669"
       id="text4-6-42-8"><tspan
         sodipodi:role="line"
         id="tspan31"
         x="87.997757"
         y="249.79669">Obtener respuesta del LLM</tspan></text><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:7.05556px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.647;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="87.915077"
       y="213.46719"
       id="text4-6-42"><tspan
         sodipodi:role="line"
         id="tspan29"
         x="87.915077"
         y="213.46719">Generar prompt</tspan><tspan
         sodipodi:role="line"
         id="tspan30"
         x="87.915077"
         y="222.28664">para el LLM</tspan></text><rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       id="rect3-4-6-7-3-7"
       width="76.974411"
       height="21.980961"
       x="49.579445"
       y="205.15527"
       ry="5.9821601" /><rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       id="rect3-4-6"
       width="76.850632"
       height="28.676191"
       x="49.641335"
       y="87.45369"
       ry="7.8042798" /><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:7.05556px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.647;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="87.892685"
       y="95.420097"
       id="text4-6-4"><tspan
         sodipodi:role="line"
         id="tspan18"
         x="87.892685"
         y="95.420097">Calcular distancia</tspan><tspan
         sodipodi:role="line"
         id="tspan22"
         x="87.892685"
         y="104.23955">a embeddings en</tspan><tspan
         sodipodi:role="line"
         id="tspan23"
         x="87.892685"
         y="113.059">la base de datos</tspan></text><rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       id="rect3-4-6-7"
       width="76.9674"
       height="23.110449"
       x="49.582947"
       y="126.66196"
       ry="6.2895527" /><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:7.05556px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.647;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="87.923698"
       y="135.56793"
       id="text4-6-4-6"><tspan
         sodipodi:role="line"
         id="tspan2"
         x="87.923698"
         y="135.56793">Obtener Top-k</tspan><tspan
         sodipodi:role="line"
         id="tspan3"
         x="87.923698"
         y="144.38737">embeddings</tspan></text><rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1.14937;stroke-linejoin:round;stroke-opacity:1"
       id="rect3-4-6-7-3"
       width="76.850632"
       height="28.676191"
       x="49.641335"
       y="160.34348"
       ry="7.8042798" /><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:7.05556px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.647;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="88.009811"
       y="167.58812"
       id="text4-6-4-6-1"><tspan
         sodipodi:role="line"
         id="tspan26"
         x="88.009811"
         y="167.58812">Recuperar texto y</tspan><tspan
         sodipodi:role="line"
         id="tspan27"
         x="88.009811"
         y="176.40756">metadatos</tspan><tspan
         sodipodi:role="line"
         id="tspan28"
         x="88.009811"
         y="185.22702">correspondientes</tspan></text><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.147;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
       x="43.45298"
       y="236.60522"
       id="text20"><tspan
         sodipodi:role="line"
         id="tspan20"
         style="stroke-width:0.147"
         x="43.45298"
         y="236.60522" /></text><path
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Triangle)"
       d="m 88.066629,41.40154 v 9.114494"
       id="path38"
       sodipodi:nodetypes="cc" /><path
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Triangle)"
       d="m 87.950709,74.900333 c -0.0356,3.757103 0.0752,4.787385 0.15233,8.543313"
       id="path40"
       sodipodi:nodetypes="cc" /><path
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Triangle)"
       d="m 88.066629,116.04285 v 6.50996"
       id="path41"
       sodipodi:nodetypes="cc" /><path
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Triangle-9)"
       d="m 88.066629,149.69779 v 6.50996"
       id="path41-0"
       sodipodi:nodetypes="cc" /><path
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Triangle-0)"
       d="m 88.066629,188.87612 v 11.80163"
       id="path41-2"
       sodipodi:nodetypes="cc" /><path
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Triangle)"
       d="m 87.796302,227.4493 0.321667,11.10592"
       id="path43"
       sodipodi:nodetypes="cc" /><text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:9.87778px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:#000000;fill-opacity:1;stroke:none;stroke-width:2.047;stroke-linecap:round;stroke-linejoin:round"
       x="88.059418"
       y="10.009401"
       id="text15"><tspan
         sodipodi:role="line"
         id="tspan15"
         style="font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:9.87778px;font-family:'CMU Serif';-inkscape-font-specification:'CMU Serif, Medium';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:2.047"
         x="88.059418"
         y="10.009401">Recuperación de fragmentos relevantes</tspan></text><rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:8.00003, 4.00002;stroke-dashoffset:0;stroke-opacity:1"
       id="rect31"
       width="128.94566"
       height="145.96823"
       x="23.593819"
       y="47.146687"
       ry="1.1328661" /><rect
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:7.99997, 4.00002;stroke-dashoffset:0;stroke-opacity:1"
       id="rect32"
       width="129.08572"
       height="65.88324"
       x="23.522446"
       y="197.33026"
       ry="1.1352108" /></g></svg>
